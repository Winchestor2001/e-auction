{% extends "base.html" %}
{% block content %}
<style>
    .glass{
        display: flex;
        flex-wrap: wrap;
        gap: 5px;
    }
</style>
<div class="container my-5">
    <h3 align="center">Categories</h3>
    {% if status %}
    <div class="alert {{col}}">{{status}}</div>
    {% endif %}
    <hr>
    <div class="row text-center glass">
        <div class="col-lg-12">
            {% for i in data %}
            <div class="d-inline-block">
                <a href="{% url 'category-sort-page' i.id %}" class="btn btn-secondary">{{i.name}}</a>
            </div>
            {% endfor %}
        </div>
    </div>
    {% for i in listing %}
    <a class="row shadow text-decoration-none text-dark" href="{% url 'listing-detail-page' i.id %}">
        <div class="col-lg-4 p-2">
            <img src="/media/{{i.img}}" class="img-fluid" alt="">
        </div>
        <div class="col-lg-6 my-auto">
            <h4>{{i.title}}</h4>
            <h5>Price: {{i.price}}$</h5>
            <p>{{i.description|truncatechars:150}}</p>
            <em>{{i.created_at}}</em>
        </div>
    </a>
    {% endfor %}
</div>
{% endblock %}